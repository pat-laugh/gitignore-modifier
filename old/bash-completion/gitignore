_gitignore()
{
	local cur prev opts	
	COMPREPLY=()
	cur="${COMP_WORDS[COMP_CWORD]}"
	prev="${COMP_WORDS[COMP_CWORD-1]}"
	
	case "$prev" in
		local)
			if [[ $cur == -* ]]; then
				opts="--help"
			else
				opts="call help reset set show"
			fi
		;;
		gitignore)
			if [[ $cur == -* ]]; then
				opts="--help --version"
			elif [[ $cur == * ]]; then
				opts="add clear create dict help list local
					remove self-update update version"
			fi
	esac

	COMPREPLY=($(compgen -W "$opts" -- $cur))
	return 0
}
complete -F _gitignore gitignore
